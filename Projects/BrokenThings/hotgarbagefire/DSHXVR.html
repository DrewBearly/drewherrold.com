<!DOCTYPE html>
<html>
  <head>
	<title>Broken WebVR</title>
<meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
	<script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="../../../BrokenThings/hotgarbagefire/components/set-image.js"></script>
  </head>
  <body>
  
	<script>
	  AFRAME.registerComponent('scale-on-mouseenter', {
		schema: {
		  to: {default: '2.5 2.5 2.5'}
		},
		init: function () {
		  var data = this.data;
		  this.el.addEventListener('mouseenter', function () {
			this.setAttribute('scale', data.to);
		  });
		}
	  });
	</script>
	
	
    <a-scene>
		<a-assets>
		
		<img id="rex" crossorigin="anonymous" src="rex.jpg">
		<img id="woods" crossorigin="anonymous" src="test1.jpg">
		<img id="hogan" crossorigin="anonymous" src="test2.jpg">
		<img id="ham" crossorigin="anonymous" src="test3.jpg">
		<img id="ninja" crossorigin="anonymous" src="test4.jpg">
		<img id="batman" crossorigin="anonymous" src="test5.jpg">
		<img id="heal" crossorigin="anonymous" src="test6.jpg">
		<img id="jub" crossorigin="anonymous" src="test11.jpg">
		<img id="communism" crossorigin="anonymous" src="test8.jpg">
		<img id="peppr" crossorigin="anonymous" src="test10.jpg">
		<img id="fatbear" crossorigin="anonymous" src="test7.jpg">
		<video id="luigi" crossorigin="anonymous" src="vid1.mp4" autoplay loop=true>
		<video id="snake" crossorigin="anonymous" src="vid2.mp4" autoplay loop=true webkit-playsinline=playsinline>
		<video id="gerstmaan" crossorigin="anonymous" src="vid3.mp4" autoplay loop=true webkit-playsinline=playsinline>
		<video id="garbage" crossorigin="anonymous" src="vid4.mp4" autoplay loop=true webkit-playsinline=playsinline>
		
		<!-- Image link template to be reused. -->
        <script id="link" type="text/html">
          <a-entity class="link"
            geometry="primitive: plane; height: 1; width: 1"
            material="shader: flat; src: ${thumb}"
            event-set__1="_event: mousedown; scale: 1 1 1"
            event-set__2="_event: mouseup; scale: 1.2 1.2 1"
            event-set__3="_event: mouseenter; scale: 1.2 1.2 1"
            event-set__4="_event: mouseleave; scale: 1 1 1"
            set-image="on: click; target: #test; src: ${src}"
            sound="on: click; src: #click-sound"></a-entity>
        </script>
		</a-assets>
		<a-box id="test" src="#snake" position ="0 2 -5" rotation="0 45 45" scale="2 2 2" scale-on-mouseenter="to: 2.2 2.2 2.2">
		    <a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur="2000"
      repeat="indefinite"></a-animation>
			<a-animation attribute="scale" begin="mouseenter" dur="300" to="2.3 2.3 2.3"></a-animation>
		  <a-animation attribute="scale" begin="mouseleave" dur="300" to="2 2 2"></a-animation>
		  <a-animation attribute="rotation" begin="click" dur="2000" to="360 405 45"></a-animation>

	  </a-box>
		<a-image template="src: #link" src=#rex position="-0.9 0.2 -3"></a-image>
		<!-- <a-entity template="src: #link" data-src="#rex" position="-0.9 0.2 -3"></a-entity> -->
		<a-image src=#woods position="2 0.2 -3"></a-image>
		<a-image src=#hogan position="2 1 -3"></a-image>
		<a-image src=#ham position="2 2 -3"></a-image>
		<a-image src=#ninja position="2 3 -3"></a-image>
		<a-image src=#batman position="2 4 -3"></a-image>
		<a-image src=#heal position="-1 4 -3"></a-image>
		<a-image src=#jub position="0 4 -3"></a-image>
		<a-image src=#communism position="-1 3 -3"></a-image>
		<a-image src=#fatbear position="1  4 -3"></a-image>
		<a-video src=#luigi position="-1 3 -3" autoplay loop=true></a-video>
		<a-video src=#snake position="-2 2 -3" autoplay loop=true></a-video>
		<a-video src=#gerstmaan position="-2 1 -3" autoplay loop=true></a-video>
		<a-video src=#garbage position="-2 0 -3" autoplay loop=true></a-video>
		<a-text value="The Cube Sees All" 
		color="gold" position="-0.9 0.2 -3" scale="2 2 2"></a-text>
		<a-entity camera look-controls>
        <a-cursor id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: springgreen"
          event-set__2="_event: mouseleave; color: black"
          raycaster="objects: .link"></a-cursor>
      </a-entity>
    </a-scene>
  <body>
</html>